<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tuotteet - Enäjärven Saha Ky</title>
<link rel="stylesheet" href="style.css">
<style>
/* Layout */
.content-wrapper { display: flex; gap: 30px; margin-top: 20px; }

/* Side menu */
.category-menu { min-width: 200px; }
.category-menu ul { list-style: none; padding: 0; margin: 0; }
.category-menu li { margin: 8px 0; cursor: pointer; color: #333; }
.category-menu li:hover { text-decoration: underline; }
.category-menu li.active { font-weight: bold; text-decoration: none; }

/* Products */
.products { display: flex; flex-wrap: wrap; gap: 20px; }
.product { text-align: center; width: 200px; }
.product img { width: 100%; border: 1px solid #555; border-radius: 5px; cursor: pointer; transition: transform 0.2s; }
.product img:hover { transform: scale(1.05); }

/* Modal */
.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); align-items: center; justify-content: center; padding: 20px; }
.modal-content { background: #fff; display: flex; flex-direction: row; max-width: 900px; width: 100%; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.3); }
.modal-image { flex: 1; background: #f9f9f9; display: flex; align-items: center; justify-content: center; }
.modal-image img { max-width: 100%; max-height: 80vh; object-fit: contain; }
.modal-text { flex: 1; padding: 20px; font-size: 16px; color: #333; }
.close { position: absolute; top: 20px; right: 35px; color: #fff; font-size: 40px; font-weight: bold; cursor: pointer; z-index: 1100; }
.close:hover { color: #bbb; }
</style>
</head>
<body>

<div class="page-container">

<header>
    <a href="index.html">Enäjärven Saha Ky</a>
</header>

<nav>
    <a href="tuotteet.html">Tuotteet</a>
    <a href="historia.html">Historia</a>
    <a href="ota-yhteytta.html">Ota yhteyttä</a>
</nav>

<div class="content">
    <h2>Tuotteet</h2>
    <p>
        Tuotelistassa on vain osa valikoimastamme, lisää tuotekuvia Facebook-sivuillamme.<br>
        Valikoimamme on laaja ja pystymme toimittamaan mittatilaustyönä lähes minkälaista tahansa puutavaraa asiakkaan toiveiden mukaisesti.<br>
        Nyt myös mahdollista tilata INSTA 142 -standardin (SFS 5878) mukainen rakennesahatavaran lujuusluokittelu palveluna.<br>
        Yhteydenotot puhelimitse, tai yhteydenottolomakkeen kautta.
    </p>

    <!-- Content wrapper: side + products -->
    <div class="content-wrapper">
        <!-- Sidebar categories -->
        <div class="category-menu">
            <ul>
                <li class="active" onclick="filterProducts('all', this)">Kaikki tuotteet</li>
                <li onclick="filterProducts('paneelit', this)">Paneelit</li>
                <li onclick="filterProducts('peitelistat', this)">Peitelistat & Jalkalistat</li>
                <li onclick="filterProducts('kattolistat', this)">Kattolistat</li>
            </ul>
        </div>

        <!-- Products container -->
        <div class="products" id="products-container">
            <!-- Products will be generated dynamically here -->
        </div>
    </div>
</div>

</div> <!-- end of page-container -->

<footer>
    <div class="contact-info">
        <p>Enäjärven Saha Ky | Sahamaantie 55, 09120 Karjalohja</p>
        <p>Puhelin: +358 400 470 766 | +358 443 552 735</p>
        <p>
            <a href="https://www.facebook.com/enajarvensaha/?ref=embed_page" target="_blank" class="inline-link">Facebook</a>
            <a href="https://www.google.com/maps/place/En%C3%A4j%C3%A4rven+Saha+Westerlund+Ky/@60.306781,23.75482,14z/data=!4m6!3m5!1s0x468db62e39b05a7d:0x39a11999b8042d3e!8m2!3d60.3077129!4d23.7548869!16s%2Fg%2F1tt0ps9p?hl=en&entry=ttu" target="_blank" class="inline-link">Kartta</a>
        </p>
    </div>
</footer>

<!-- Modal -->
<div id="product-modal" class="modal">
    <span class="close">&times;</span>
    <div class="modal-content">
        <div class="modal-image">
            <img id="modal-img" src="" alt="">
        </div>
        <div class="modal-text">
            <h2 id="modal-title"></h2>
            <p id="modal-desc"></p>
        </div>
    </div>
</div>

<script>
// Products
var productsData = [
    { name: "Peitelista", img: "images/peitelista.jpg", desc: "Saatavilla esimerkiksi koossa: 12x42mm", category: "peitelistat" },
    { name: "Jalkalista", img: "images/jalkalista.jpg", desc: "Saatavilla eri kokoja ja värejä", category: "peitelistat" },
    { name: "Paneeli", img: "images/paneeli.jpg", desc: "Eri malleja ja mittoja saatavilla.", category: "paneelit" },
    { name: "Paneeli 2", img: "images/paneeli2.jpg", desc: "Erikoismallit saatavilla.", category: "paneelit" },
    { name: "Kattolista", img: "images/kattolista.jpg", desc: "Saatavilla eri profiileja ja pituuksia.", category: "kattolistat" },
    { name: "Kattolista 2", img: "images/kattolista2.jpg", desc: "Eri värejä ja kokoja saatavilla.", category: "kattolistat" },
    // Add all remaining products here following the same format
];

// Product render
var container = document.getElementById("products-container");
var modal = document.getElementById("product-modal");
var modalImg = document.getElementById("modal-img");
var modalTitle = document.getElementById("modal-title");
var modalDesc = document.getElementById("modal-desc");
var closeBtn = document.getElementsByClassName("close")[0];

function renderProducts(products) {
    container.innerHTML = ""; // clear previous
    for (var i = 0; i < products.length; i++) {
        var product = products[i];
        var div = document.createElement("div");
        div.className = "product";
        div.setAttribute("data-category", product.category);

        div.innerHTML = '<h3>' + product.name + '</h3>' +
                        '<img src="' + product.img + '" alt="' + product.name + '" data-title="' + product.name + '" data-desc="' + product.desc + '">';
        container.appendChild(div);
    }

    // Modal click events
    var imgs = document.querySelectorAll(".product img");
    for (var j = 0; j < imgs.length; j++) {
        imgs[j].addEventListener("click", function() {
            modal.style.display = "flex";
            modalImg.src = this.src;
            modalTitle.textContent = this.dataset.title;
            modalDesc.textContent = this.dataset.desc;
        });
    }
}

// Render
renderProducts(productsData);

// ====== FILTER FUNCTION ======
function filterProducts(category, element) {
    var categoryItems = document.querySelectorAll(".category-menu li");
    for (var i = 0; i < categoryItems.length; i++) {
        categoryItems[i].classList.remove("active");
    }
    element.classList.add("active");

    var filtered = [];
    if (category === "all") {
        filtered = productsData;
    } else {
        for (var i = 0; i < productsData.length; i++) {
            if (productsData[i].category === category) {
                filtered.push(productsData[i]);
            }
        }
    }

    renderProducts(filtered);
}

// Modal logic
closeBtn.onclick = function() { modal.style.display = "none"; }
modal.onclick = function(event) { if (event.target === modal) modal.style.display = "none"; }
</script>

</body>
</html>
